services:
  games:
    build: .
    container_name: games
    restart: unless-stopped
    environment:
      - PUBLIC_BASE_URL=https://games.xpsxp.org
      - SMTP_HOST=
      - SMTP_PORT=587
      - SMTP_USER=
      - SMTP_PASS=
      - SMTP_FROM=
    volumes:
      # 仅持久化数据库文件；前端静态资源使用镜像内置文件
      - ./data/data.db:/app/data/data.db
    networks:
      webnet:
        aliases:
          - games

networks:
  webnet:
    external: true
