<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Simple Mode</title>

<style>
html,body{
  margin:0;
  height:100%;
  font-family:system-ui;
}

#screen{
  min-height:100vh;
  min-height:100dvh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  text-align:center;
  transition:background 0.2s ease;
  padding:20px;
  -webkit-tap-highlight-color:transparent;
  touch-action:manipulation;
  user-select:none;
}

#topBar{
  position:absolute;
  top:20px;
  left:20px;
  right:20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}

#welcome{
  position:absolute;
  top:58px;
  font-size:16px;
}
#homeLink{
  color:#fff;
  text-decoration:none;
  opacity:.9;
  font-size:14px;
}
#homeLink:hover{
  text-decoration:underline;
}
#modeLink{
  color:#fff;
  text-decoration:none;
  opacity:.9;
  font-size:14px;
}
#modeLink:hover{
  text-decoration:underline;
}

#message{
  font-size:clamp(32px, 6vw, 56px);
  font-weight:700;
  white-space:pre-line;
}

#result{
  margin-top:15px;
  font-size:clamp(14px, 3.6vw, 20px);
  white-space:pre-line;
}

#leaderboardMeta{
  margin-top:14px;
  width:100%;
  max-width:min(900px, 92vw);
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:clamp(12px, 3.2vw, 14px);
  gap:12px;
  flex-wrap:wrap;
}

#leaderboardLink{
  color:#fff;
  text-decoration:none;
  opacity:.9;
}
#leaderboardLink:hover{
  text-decoration:underline;
}

#leaderboard{
  width:100%;
  max-width:min(900px, 92vw);
  overflow-x:auto;
}

table{
  border-collapse:collapse;
  margin-top:20px;
  width:100%;
  font-size:clamp(12px, 2.8vw, 14px);
}

td,th{
  border:1px solid #fff;
  padding:6px 10px;
  text-align:left;
  word-break:break-word;
}

.me-row{
  background:rgba(255,255,255,0.12);
  font-weight:600;
}

@media (max-width: 520px){
  #leaderboardMeta{
    flex-direction:column;
    align-items:flex-start;
  }
  td,th{
    padding:6px 6px;
  }
  th{
    white-space:nowrap;
  }
}

</style>
</head>

<body>

<div id="screen">
  <div id="topBar">
    <a id="homeLink" href="https://www.xpsxp.org">返回主站</a>
    <a id="modeLink" href="/">返回模式选择</a>
  </div>
  <div id="welcome"></div>
  <div id="message">Loading...</div>
  <div id="result"></div>
  <div id="leaderboardMeta" style="display:none;">
    <div id="myRank"></div>
    <a id="leaderboardLink" href="/leaderboard.html?mode=simple">完整排行榜</a>
  </div>
  <div id="leaderboard" style="display:none;"></div>
</div>

<script>

// ==========================
// Language
// ==========================
const browserLang = (navigator.language || "").toLowerCase();
const lang = browserLang.includes("zh") ? "zh" : "en";

const T = {
  en: {
    loading: "Simple Mode",
    welcomeBack: (n) => `Welcome back, ${n}`,
    clickToStart: "Click to start",
    waitGreen: "Wait for green...",
    clickNow: "CLICK!",
    tooEarly: "Too early!",
    result: (ms) => `Result: ${ms} ms`,
    best: (b) => `Best: ${b} ms`,
    falseStarts: (n) => `False starts this session: ${n}`,
    cycleFalseStarts: (n) => `False starts before next record: ${n}`,
    recordedCycle: (n) => `False starts used for this record: ${n}`,
    rankLine: (r) => `Your rank: #${r}`,
    challengeError: "Sync failed, please try again"
  },
  zh: {
    loading: "简单模式",
    welcomeBack: (n) => `欢迎回来，${n}`,
    clickToStart: "点击开始",
    waitGreen: "等待变绿...",
    clickNow: "点击！",
    tooEarly: "太早了！",
    result: (ms) => `成绩：${ms} ms`,
    best: (b) => `最好：${b} ms`,
    falseStarts: (n) => `本次会话提前点击次数：${n}`,
    cycleFalseStarts: (n) => `下次破纪录前累计提前点击：${n}`,
    recordedCycle: (n) => `本次纪录对应提前点击：${n}`,
    rankLine: (r) => `当前名次：第 ${r} 名`,
    challengeError: "同步失败，请重试"
  }
};

// ==========================
// Identity
// ==========================
function getBrowserId(){
  let bid=localStorage.getItem("reaction_bid");
  if(bid) return bid;
  const bytes=new Uint8Array(16);
  crypto.getRandomValues(bytes);
  bid=Array.from(bytes).map(b=>b.toString(16).padStart(2,"0")).join("");
  localStorage.setItem("reaction_bid",bid);
  return bid;
}
const bid=getBrowserId();

let myName=null;
let pendingFalseStarts=0;
let hasResult=false;
let welcomeHideTimer=null;

async function checkIdentity(){
  const r=await fetch(`/api/me?bid=${bid}`);
  const j=await r.json();
  if(!j.ok || !j.claimed){
    window.location.href="/welcome.html";
    return;
  }
  myName=j.name;
  await loadStats();
  renderWelcome();
  scheduleWelcomeHide();
  reset();
}

function renderWelcome(){
  document.getElementById("welcome").textContent =
    `${T[lang].welcomeBack(myName)} | ${T[lang].cycleFalseStarts(pendingFalseStarts)}`;
}

function scheduleWelcomeHide(){
  const welcomeEl = document.getElementById("welcome");
  if (!welcomeEl) return;
  welcomeEl.style.display = "";
  if (welcomeHideTimer) clearTimeout(welcomeHideTimer);
  welcomeHideTimer = setTimeout(() => {
    welcomeEl.style.display = "none";
  }, 5000);
}

async function loadStats(){
  const r = await fetch(`/api/simple/stats?bid=${bid}`);
  const j = await r.json();
  if (j.ok) {
    pendingFalseStarts = j.pending_false_starts || 0;
  }
}

async function recordFalseStart(){
  const r = await fetch("/api/simple/false-start",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ bid, name: myName })
  });
  const j = await r.json();
  if (j.ok) {
    pendingFalseStarts = j.pending_false_starts || pendingFalseStarts;
    renderWelcome();
  }
}

// ==========================
// Simple Logic
// ==========================
let state="idle";
let startTime=null;
let readyTimeout=null;
let falseStarts=0;
let activeChallengeToken="";
let readyAtServer=0;

const screen=document.getElementById("screen");
const message=document.getElementById("message");
const result=document.getElementById("result");
const leaderboardDiv=document.getElementById("leaderboard");
const myRankDiv=document.getElementById("myRank");
const leaderboardMeta=document.getElementById("leaderboardMeta");

function setScreen(color,msg){
  screen.style.background=color;
  message.textContent=msg;
}

function reset(){
  state="idle";
  setScreen("#3b82f6", T[lang].clickToStart);
  result.textContent="";
}

const isCoarse = window.matchMedia && window.matchMedia("(pointer: coarse)").matches;
const ACTION_DEBOUNCE_MS = isCoarse ? 450 : 200;
let lastActionAt=0;
let handlingAction=false;
async function requestChallenge(){
  const r = await fetch("/api/simple/challenge", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ bid, name: myName })
  });
  const j = await r.json();
  if (!j.ok || !j.token || !j.ready_at) {
    throw new Error("challenge failed");
  }
  activeChallengeToken = j.token;
  readyAtServer = Number(j.ready_at);
  return j;
}

function enterReadyState(){
  state="ready";
  setScreen("#22c55e", T[lang].clickNow);
  startTime=performance.now();
}

async function handleAction(evt){
  if (handlingAction) return;
  handlingAction=true;
  setTimeout(()=>{ handlingAction=false; }, 30);
  if (evt && typeof evt.detail === "number" && evt.detail > 1) return;
  const now=Date.now();
  if(now-lastActionAt<ACTION_DEBOUNCE_MS) return;
  lastActionAt=now;
  if (evt.target && evt.target.closest && evt.target.closest("a")) return;

  if(state==="idle"){
    state="waiting";
    setScreen("#dc2626", T[lang].waitGreen);
    try {
      const challenge = await requestChallenge();
      const delay = Math.max(0, Number(challenge.ready_at) - Date.now());
      if (readyTimeout) clearTimeout(readyTimeout);
      readyTimeout = setTimeout(() => {
        if (state !== "waiting") return;
        if (!isCoarse && "requestAnimationFrame" in window) {
          requestAnimationFrame(enterReadyState);
        } else {
          enterReadyState();
        }
      }, delay);
    } catch (_err) {
      state="idle";
      activeChallengeToken = "";
      setScreen("#3b82f6", T[lang].challengeError);
    }
    return;
  }

  if(state==="waiting"){
    falseStarts++;
    if (readyTimeout) clearTimeout(readyTimeout);
    await recordFalseStart();
    setScreen("#3b82f6", T[lang].tooEarly);
    state="idle";
    activeChallengeToken = "";
    return;
  }

  if(state==="ready"){
    const clickTime = (evt && typeof evt.timeStamp === "number" && evt.timeStamp > 0) ? evt.timeStamp : performance.now();
    const ms=Math.max(0, Math.round(clickTime-startTime));
    state="idle";
    setScreen("#3b82f6", T[lang].clickToStart);

    const r=await fetch("/api/simple/submit",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        name: myName,
        bid: bid,
        ms: ms,
        falseStarts: falseStarts,
        challengeToken: activeChallengeToken,
        rtObservedAt: readyAtServer
      })
    });
    const j=await r.json();
    if (!j.ok) {
      result.textContent = `${T[lang].challengeError}
${j.error || "submit failed"}`;
      activeChallengeToken = "";
      return;
    }
    activeChallengeToken = "";
    if (typeof j.pending_false_starts === "number") {
      pendingFalseStarts = j.pending_false_starts;
      renderWelcome();
    }

    result.textContent=
      T[lang].result(ms) + "\n" +
      T[lang].best(j.best_ms) + "\n" +
      T[lang].falseStarts(falseStarts) + "\n" +
      T[lang].cycleFalseStarts(pendingFalseStarts);

    if (j.broke_record && typeof j.false_starts_before_record === "number") {
      result.textContent += "\n" + T[lang].recordedCycle(j.false_starts_before_record);
    }

    if (!hasResult) {
      hasResult = true;
      leaderboardMeta.style.display = "flex";
      leaderboardDiv.style.display = "block";
    }
    loadLeaderboard();
  }
}

if (isCoarse) {
  screen.addEventListener("click", handleAction, { passive: true });
} else if (window.PointerEvent) {
  screen.addEventListener("pointerdown", handleAction);
} else {
  screen.addEventListener("mousedown", handleAction);
}

// ==========================
// Leaderboard
// ==========================
async function loadLeaderboard(){
  const r=await fetch(`/api/simple/leaderboard?name=${encodeURIComponent(myName)}`);
  const j=await r.json();
  if(!j.ok) return;

  let html="<table><tr><th>#</th><th>Name</th><th>Best</th><th>False starts before record</th></tr>";
  const inTop = j.rows.some((row)=>row.name===myName);
  j.rows.forEach((row,i)=>{
    const meClass = row.name===myName ? " class='me-row'" : "";
    html+=`<tr${meClass}>
      <td>${i+1}</td>
      <td>${row.name}</td>
      <td>${row.best_ms}</td>
      <td>${row.false_starts === null ? "-" : row.false_starts}</td>
    </tr>`;
  });
  if (j.me && j.me.rank && (!inTop || j.me.rank > j.rows.length)) {
    html+=`<tr class="me-row">
      <td>${j.me.rank}</td>
      <td>${j.me.name}</td>
      <td>${j.me.best_ms}</td>
      <td>${j.me.false_starts === null ? "-" : j.me.false_starts}</td>
    </tr>`;
  }
  html+="</table>";
  leaderboardDiv.innerHTML=html;
  myRankDiv.textContent = j.me && j.me.rank ? T[lang].rankLine(j.me.rank) : "";
}

setScreen("#3b82f6", T[lang].loading);
checkIdentity();

</script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34ba13ddf42333',t:'MTc3MTk5NjU0Nw=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34bec7ef582333',t:'MTc3MTk5NjczOQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34bfea1f242333',t:'MTc3MTk5Njc4Ng=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34c668db305eb1',t:'MTc3MTk5NzA1Mg=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34cd781d29e8ea',t:'MTc3MTk5NzM0MQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34d13e3c3ceb6a',t:'MTc3MTk5NzQ5Ng=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d34d342fc67eb6a',t:'MTc3MTk5NzU3OA=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9d350b93ecbbc0b2',t:'MTc3MTk5OTg4NQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"23a4e4680985457fa4ecb61d81dc541f","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>

